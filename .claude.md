# Urchin ZMK Firmware - Hybrid Keymap

ZMK firmware for Urchin 34-key split keyboard, now with hybrid keymap combining features from ZSA Voyager QMK firmware.

## Project Overview

- **Hardware**: Urchin/Ferris Sweep style 34-key split keyboard
- **Controller**: nice!nano v2
- **Features**: Bluetooth, nice!view display, deep sleep support
- **Keymaps**:
  - `urchin.keymap` - Original simple 3-layer layout
  - `urchin-hybrid.keymap` - New hybrid combining Urchin + Voyager features

## Recent Changes

**2025-11-05**: Created hybrid keymap from ZSA Voyager analysis
- Added 4 essential combos from Voyager (Y+U=Bspc, R+T=Tab, F+G=Esc, H+J=Enter)
- Added symbols layer (Layer 2) with !@#$%^&*{}
- Changed right pinky L from SHIFT to CTRL (matching Voyager)
- Kept Urchin's mo_tog behavior and settings layer
- Documented all changes in Obsidian vault under `keyboards/`

## Build Configuration

**Current status**: `build.yaml` still points to original `urchin.keymap`

**TODO**: Update `build.yaml` to build hybrid keymap:
- Change keymap reference from `urchin` to `urchin-hybrid`
- May need to run under different GitHub account for Actions

## Layers

### Hybrid Keymap (4 layers)
0. **BASE** - QWERTY with homerow mods (A=Shift, S=Ctrl, D=Alt, J=Alt, K=Ctrl, L=Shift)
1. **EXT** - Numbers, brackets, vim arrows, editing keys
2. **SYM** - Symbols (!@#$%^&*), braces, parens
3. **SETTINGS** - Bluetooth pairing, bootloader, unstick macro

### Key Combos
- Y+U → Backspace
- R+T → Tab
- F+G → Escape
- H+J → Enter
- Both left thumbs → Settings layer

## What Won't Port from Voyager

ZMK limitations prevent porting:
- Mouse layers (experimental/limited in ZMK)
- CPI adjustment
- Scroll toggle modes
- Advanced pointing device features
- Per-key RGB (hardware doesn't have it)

## Documentation

All analysis and guides saved to Obsidian vault:
- `keyboards/ZSA Voyager to ZMK Porting Analysis.md` - Detailed porting analysis
- `keyboards/Voyager Layer Maps - 34 Key Extract.md` - Layer-by-layer breakdowns
- `keyboards/Urchin vs Voyager Comparison.md` - What's missing/different
- `keyboards/Hybrid Keymap Guide.md` - Usage guide for new hybrid keymap

## Building

### GitHub Actions
1. Update `build.yaml` to reference `urchin-hybrid`
2. Commit and push
3. Download firmware from Actions tab
4. Flash to keyboard halves

### Local Build
```bash
west build -b nice_nano_v2 -- -DSHIELD=urchin_left -DKEYMAP=urchin-hybrid
west build -b nice_nano_v2 -- -DSHIELD=urchin_right -DKEYMAP=urchin-hybrid
```

## Related Repositories

- Source Voyager firmware: `/Users/area/personal/personal/zsa_voyager_y4zgr_zL4pWj_oversimple-qwerty-homerow-mods-n_source/`
- Upstream Urchin: `https://github.com/duckyb/urchin-zmk-firmware`
- This fork: `https://github.com/aaronrea/urchin-zmk-firmware`

## Notes

- Original Urchin keymap preserved in `urchin.keymap`
- Hybrid keymap ready for testing but not yet built
- Need to configure GitHub Actions with appropriate account
